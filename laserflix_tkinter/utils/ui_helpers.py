"""\nUtils — UI Helpers\nFunções auxiliares de UI\n"""\n\nimport tkinter as tk\nfrom tkinter import simpledialog\n\n\nclass UIHelpers:\n    @staticmethod\n    def darken_color(hex_color):\n        """Escurece uma cor hexadecimal em 20%."""\n        hex_color = hex_color.lstrip("#")\n        r, g, b = tuple(int(hex_color[i:i+2], 16) for i in (0, 2, 4))\n        return f"#{max(0,int(r*0.8)):02x}{max(0,int(g*0.8)):02x}{max(0,int(b*0.8)):02x}"\n\n    @staticmethod\n    def add_tag_to_listbox(listbox, parent=None):\n        """Adiciona tag à listbox via diálogo."""\n        new_tag = simpledialog.askstring("Nova Tag", "Digite a nova tag:", parent=parent)\n        if new_tag and new_tag.strip():\n            new_tag = new_tag.strip()\n            if new_tag not in listbox.get(0, tk.END):\n                listbox.insert(tk.END, new_tag)\n\n    @staticmethod\n    def remove_tag_from_listbox(listbox):\n        """Remove tag selecionada da listbox."""\n        selection = listbox.curselection()\n        if selection:\n            listbox.delete(selection[0])\n