"""\nUI ‚Äî Project Card\nCard individual de projeto (estilo Netflix)\n"""\n\nimport tkinter as tk\nfrom utils.ui_helpers import UIHelpers\n\n\nclass ProjectCard:\n    def __init__(self, parent, project_path, data, thumbnail_cache, callbacks):\n        """\n        callbacks: dict com {\n            'favorite': func(path, btn),\n            'done': func(path, btn),\n            'good': func(path, btn),\n            'bad': func(path, btn),\n            'analyze': func(path),\n            'open_folder': func(path),\n            'open_details': func(path)\n        }\n        """\n        self.project_path = project_path\n        self.data = data\n        self.thumbnail_cache = thumbnail_cache\n        self.callbacks = callbacks\n        self.frame = tk.Frame(parent, bg="#1E1E1E", width=220, height=320,\n                            relief="flat", borderwidth=0)\n        self.frame.pack_propagate(False)\n        self.create_ui()\n\n    def create_ui(self):\n        """Cria interface do card."""\n        # Imagem de capa\n        cover_img = self.thumbnail_cache.get_cover_image(self.project_path)\n        if cover_img:\n            img_label = tk.Label(self.frame, image=cover_img, bg="#1E1E1E")\n            img_label.image = cover_img  # Mant√©m refer√™ncia\n            img_label.pack(pady=(5, 0))\n            img_label.bind("<Button-1>", lambda e: self._open_details())\n        else:\n            placeholder = tk.Label(self.frame, text="Sem Imagem",\n                                 font=("Arial", 10), bg="#2A2A2A", fg="#666666",\n                                 width=22, height=10)\n            placeholder.pack(pady=(5, 0))\n\n        # Nome do projeto\n        name = self.data.get("name", "Sem nome")[:35]\n        name_label = tk.Label(self.frame, text=name, font=("Arial", 9, "bold"),\n                            bg="#1E1E1E", fg="#FFFFFF", wraplength=200)\n        name_label.pack(pady=5)\n        name_label.bind("<Button-1>", lambda e: self._open_details())\n\n        # Bot√µes de a√ß√£o\n        actions_frame = tk.Frame(self.frame, bg="#1E1E1E")\n        actions_frame.pack(pady=5)\n\n        # Favorito\n        fav_btn = tk.Button(actions_frame,\n                          text="‚≠ê" if self.data.get("favorite") else "‚òÜ",\n                          fg="#FFD700" if self.data.get("favorite") else "#666666",\n                          bg="#1E1E1E", font=("Arial", 14), relief="flat",\n                          command=lambda: self.callbacks['favorite'](self.project_path, fav_btn))\n        fav_btn.pack(side="left", padx=3)\n\n        # Feito\n        done_btn = tk.Button(actions_frame,\n                           text="‚úì" if self.data.get("done") else "‚óã",\n                           fg="#00FF00" if self.data.get("done") else "#666666",\n                           bg="#1E1E1E", font=("Arial", 14), relief="flat",\n                           command=lambda: self.callbacks['done'](self.project_path, done_btn))\n        done_btn.pack(side="left", padx=3)\n\n        # Bom\n        good_btn = tk.Button(actions_frame, text="üëç",\n                           fg="#00FF00" if self.data.get("good") else "#666666",\n                           bg="#1E1E1E", font=("Arial", 12), relief="flat",\n                           command=lambda: self.callbacks['good'](self.project_path, good_btn))\n        good_btn.pack(side="left", padx=3)\n\n        # Ruim\n        bad_btn = tk.Button(actions_frame, text="üëé",\n                          fg="#FF0000" if self.data.get("bad") else "#666666",\n                          bg="#1E1E1E", font=("Arial", 12), relief="flat",\n                          command=lambda: self.callbacks['bad'](self.project_path, bad_btn))\n        bad_btn.pack(side="left", padx=3)\n\n        # Linha de bot√µes inferior\n        bottom_actions = tk.Frame(self.frame, bg="#1E1E1E")\n        bottom_actions.pack(pady=5)\n\n        # Analisar\n        analyze_btn = tk.Button(bottom_actions, text="ü§ñ IA", bg="#E50914", fg="white",\n                              font=("Arial", 8, "bold"), relief="flat",\n                              command=lambda: self.callbacks['analyze'](self.project_path))\n        analyze_btn.pack(side="left", padx=2)\n\n        # Abrir pasta\n        folder_btn = tk.Button(bottom_actions, text="üìÅ", bg="#2A2A2A", fg="white",\n                             font=("Arial", 10), relief="flat",\n                             command=lambda: self.callbacks['open_folder'](self.project_path))\n        folder_btn.pack(side="left", padx=2)\n\n        # Hover effect\n        self.frame.bind("<Enter>", self._on_hover)\n        self.frame.bind("<Leave>", self._on_leave)\n\n    def _on_hover(self, event):\n        """Efeito de hover."""\n        self.frame.config(bg="#2E2E2E")\n        for child in self.frame.winfo_children():\n            if isinstance(child, (tk.Label, tk.Frame)):\n                child.config(bg="#2E2E2E")\n\n    def _on_leave(self, event):\n        """Remove efeito de hover."""\n        self.frame.config(bg="#1E1E1E")\n        for child in self.frame.winfo_children():\n            if isinstance(child, (tk.Label, tk.Frame)):\n                child.config(bg="#1E1E1E")\n\n    def _open_details(self):\n        """Abre modal de detalhes."""\n        if self.callbacks.get('open_details'):\n            self.callbacks['open_details'](self.project_path)\n